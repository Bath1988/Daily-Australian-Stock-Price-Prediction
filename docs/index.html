<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Daily Australian Stock Price Prediction</title>
    <link href="https://fonts.googleapis.com/css?family=Roboto:400,700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Roboto', Arial, sans-serif;
            background: #f7f9fa;
            color: #222;
            margin: 0;
            padding: 0;
        }
        header {
            background: #003366;
            color: #fff;
            padding: 2rem 0 1rem 0;
            text-align: center;
        }
        header h1 {
            margin: 0;
            font-size: 2.5rem;
            font-weight: 700;
        }
        header p {
            margin: 0.5rem 0 0 0;
            font-size: 1.2rem;
        }
        main {
            max-width: 900px;
            margin: 2rem auto;
            background: #fff;
            border-radius: 10px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.07);
            padding: 2rem 2.5rem;
        }
        h2 {
            color: #003366;
            margin-top: 2rem;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 1rem 0;
            background: #f9fbfc;
        }
        th, td {
            border: 1px solid #e0e6ed;
            padding: 0.6rem 0.8rem;
            text-align: left;
        }
        th {
            background: #e6f0fa;
            font-weight: 700;
        }
        tr:nth-child(even) {
            background: #f3f6fa;
        }
        .section {
            margin-bottom: 2.5rem;
        }
        .footer {
            text-align: center;
            color: #888;
            font-size: 0.95rem;
            margin: 2rem 0 1rem 0;
        }
        @media (max-width: 600px) {
            main { padding: 1rem; }
            table, th, td { font-size: 0.95rem; }
        }
    </style>
</head>
<body>
    <header>
        <h1>Daily Australian Stock Price Prediction</h1>
    <p>Data Science Project: Single-Company Stock Forecasting (CBA.AX)</p>
    </header>
    <main>
        <section class="section" style="margin-bottom:1.5rem;">
            <h2>Project Repository</h2>
            <p>
                <a href="https://github.com/Bath1988/Daily-Australian-Stock-Price-Prediction" target="_blank" style="color:#003366;font-weight:500;text-decoration:underline;">View the full project on GitHub</a><br>
                <span style="font-size:1.05rem;">The repository includes all code, data, analysis scripts, Jupyter notebooks, and documentation for this stock price prediction project.</span>
            </p>
        </section>
        <section class="section">
            <h2>Project Overview</h2>
            <p>This project predicts daily closing prices for a single major Australian stock (CBA.AX) using historical data from the Yahoo Finance API. The objective is to evaluate how different models perform when trained on limited data—specifically, the past 2 years of daily closing prices. The workflow covers data collection, preprocessing, feature engineering, model training, and evaluation. Results focus on comparing machine learning models to naive baselines for this single company.</p>
        </section>
        <section class="section">
            <h2>Stock Price Randomness & Smoothing</h2>
            <p>
                The daily closing prices of stocks often appear highly random and volatile. However, when a moving average is applied—such as a 7-day moving average—short-term fluctuations are smoothed out, and longer-term patterns or trends can become visible.<br><br>
                <img src="plots/eda_CBA.AX.png" alt="7-day Moving Average Plot for CBA.AX" style="max-width:100%;border:1px solid #e0e6ed;border-radius:6px;box-shadow:0 1px 4px rgba(0,0,0,0.06);margin-bottom:1rem;">
            </p>
            <p style="font-size:1.05rem;">
                <b>Above:</b> The blue line shows the daily closing price of CBA.AX, while the orange line shows the 7-day moving average. The moving average reveals underlying trends that are not obvious in the raw, noisy data.
            </p>
        </section>
        <section class="section">
            <h2>Feature-Engineered Data Example (CBA.AX)</h2>
            <div style="margin-bottom:1rem;">
                <strong>Column descriptions:</strong>
                <ul style="margin:0.5rem 0 0 1.2rem;">
                    <li><b>date</b>: The trading date (YYYY-MM-DD).</li>
                    <li><b>closing_price</b>: The actual closing price of CBA.AX on that date.</li>
                    <li><b>clolag_1</b>: The closing price from the previous trading day.</li>
                    <li><b>price_diff</b>: The difference between the current and previous day's closing price.</li>
                    <li><b>prilag_1</b>: The previous day's <i>price_diff</i> value.</li>
                    <li><b>prilag_2</b>: The <i>price_diff</i> value from two days ago.</li>
                    <li><b>prilag_3</b>: The <i>price_diff</i> value from three days ago.</li>
                    <li><b>prilag_4</b>: The <i>price_diff</i> value from four days ago.</li>
                    <li><b>prilag_5</b>: The <i>price_diff</i> value from five days ago.</li>
                </ul>
            </div>
            <table>
                <thead>
                    <tr>
                        <th>date</th>
                        <th>closing_price</th>
                        <th>clolag_1</th>
                        <th>price_diff</th>
                        <th>prilag_1</th>
                        <th>prilag_2</th>
                        <th>prilag_3</th>
                        <th>prilag_4</th>
                        <th>prilag_5</th>
                    </tr>
                </thead>
                <tbody>
                    <tr><td>2023-05-11</td><td>98.35</td><td>97.85</td><td>0.5</td><td>0.51</td><td>0.22</td><td>0.99</td><td>0.37</td><td>-2.53</td></tr>
                    <tr><td>2023-05-12</td><td>98.96</td><td>98.35</td><td>0.61</td><td>0.5</td><td>0.51</td><td>0.22</td><td>0.99</td><td>0.37</td></tr>
                    <tr><td>2023-05-15</td><td>98.5</td><td>98.96</td><td>-0.46</td><td>0.61</td><td>0.5</td><td>0.51</td><td>0.22</td><td>0.99</td></tr>
                    <tr><td>2023-05-16</td><td>97.59</td><td>98.5</td><td>-0.91</td><td>-0.46</td><td>0.61</td><td>0.5</td><td>0.51</td><td>0.22</td></tr>
                    <tr><td>2023-05-17</td><td>97.14</td><td>97.59</td><td>-0.45</td><td>-0.91</td><td>-0.46</td><td>0.61</td><td>0.5</td><td>0.51</td></tr>
                    <tr><td>2023-05-18</td><td>98.0</td><td>97.14</td><td>0.86</td><td>-0.45</td><td>-0.91</td><td>-0.46</td><td>0.61</td><td>0.5</td></tr>
                </tbody>
            </table>
        </section>
        <section class="section">
            <h2>Models Used</h2>
            <ul>
                <li><b>Naive Baseline Models:</b> Previous day's closing price, 5-day moving average, and previous day plus previous price difference.</li>
                <li><b>Linear Regression:</b> Predicts closing price and price difference using lagged features.</li>
                <li><b>XGBoost Regressor:</b> Gradient boosting model for time series regression on price differences.</li>
                <li><b>Prophet:</b> Additive time series forecasting model from Facebook, used for closing price prediction.</li>
            </ul>
        </section>
        <section class="section">
            <h2>How to Use This Project</h2>
            <ul>
                <li>All analysis scripts and notebooks allow you to select a company for modeling.</li>
                <li>Data is loaded from the combined CSV (<code>Data/output_all_companies.csv</code>).</li>
                <li>See the <code>/Analysis</code> folder for EDA, feature engineering, and modeling scripts/notebooks.</li>
                <li>The web frontend is in <code>src/Frontend/</code>.</li>
            </ul>
        </section>
        <section class="section">
            <h2>Key Results & Model Validation</h2>
            <p>Below are the validation scores (RMSE and MAE) for each model type, calculated on the test data for CBA.AX:</p>

            <h3>Baseline Models</h3>
            <table style="table-layout:fixed;width:100%;">
                <colgroup>
                    <col style="width:25%;">
                    <col style="width:25%;">
                    <col style="width:25%;">
                    <col style="width:25%;">
                </colgroup>
                <thead>
                    <tr><th>Model</th><th>Target</th><th>RMSE</th><th>MAE</th></tr>
                </thead>
                <tbody>
                    <tr><td>naive_previous_day</td><td>closing_price</td><td>1.74</td><td>1.25</td></tr>
                    <tr><td>naive_5day_avg</td><td>closing_price</td><td>2.52</td><td>1.88</td></tr>
                    <tr><td>naive_diff_addition</td><td>closing_price</td><td>2.45</td><td>1.79</td></tr>
                </tbody>
            </table>

            <h3>Linear Regression</h3>
            <table style="table-layout:fixed;width:100%;">
                <colgroup>
                    <col style="width:25%;">
                    <col style="width:25%;">
                    <col style="width:25%;">
                    <col style="width:25%;">
                </colgroup>
                <thead>
                    <tr><th>Model</th><th>Target</th><th>RMSE</th><th>MAE</th></tr>
                </thead>
                <tbody>
                    <tr><td>linear_regression</td><td>closing_price</td><td>2.23</td><td>1.66</td></tr>
                    <tr><td>linear_regression</td><td>price_diff</td><td>2.24</td><td>1.67</td></tr>
                </tbody>
            </table>

            <h3>XGBoost</h3>
            <table style="table-layout:fixed;width:100%;">
                <colgroup>
                    <col style="width:25%;">
                    <col style="width:25%;">
                    <col style="width:25%;">
                    <col style="width:25%;">
                </colgroup>
                <thead>
                    <tr><th>Model</th><th>Target</th><th>RMSE</th><th>MAE</th></tr>
                </thead>
                <tbody>
                    <tr><td>xgboost</td><td>price_diff</td><td>2.23</td><td>1.66</td></tr>
                </tbody>
            </table>

            <h3>Prophet</h3>
            <table style="table-layout:fixed;width:100%;">
                <colgroup>
                    <col style="width:25%;">
                    <col style="width:25%;">
                    <col style="width:25%;">
                    <col style="width:25%;">
                </colgroup>
                <thead>
                    <tr><th>Model</th><th>Target</th><th>RMSE</th><th>MAE</th></tr>
                </thead>
                <tbody>
                    <tr><td>prophet</td><td>closing_price</td><td>5.29</td><td>4.19</td></tr>
                </tbody>
            </table>
        </section>
        <section class="section">
            <h2>Conclusion</h2>
            <p>
                The results demonstrate that, for this single stock and limited data period, simple naive models—especially using the previous day's closing price—can outperform or match more complex machine learning models. Linear regression and XGBoost provided only marginal improvements over the naive baselines, while Prophet performed significantly worse, likely due to the short time series and the random nature of daily price movements.<br><br>
                <b>Key takeaways:</b>
                <ul>
                    <li>Stock prices are highly random day-to-day, making short-term prediction challenging.</li>
                    <li>Naive models can be strong benchmarks, especially with limited data.</li>
                    <li>Complex models may require more data or additional features to outperform simple baselines.</li>
                    <li>Smoothing (e.g., moving averages) can reveal trends, but does not guarantee predictive power for daily changes.</li>
                </ul>
                This analysis highlights the importance of benchmarking and understanding the limitations of both data and models in financial forecasting.
            </p>
        </section>
        <section class="section">
            <h2>About & License</h2>
            <p>This project is open-source under the MIT License. Contributions and suggestions are welcome!</p>
        </section>
    </main>
    <div class="footer">&copy; 2025 Daily Australian Stock Price Prediction</div>
</body>
</html>
